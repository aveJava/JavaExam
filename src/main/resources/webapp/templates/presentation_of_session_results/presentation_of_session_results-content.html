<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Test results content</title>
</head>
<body>

    <div th:fragment="content" class="content">

        <div th:if="${mess} != null">
            <p>[[${mess}]]</p>
        </div>

        <div th:if="${mess} == null">

            <div style="display: flex;">
                <div style="margin-bottom: 3vw; margin-right: 52vw;">
                    <p>Пользователь: [[${user.getUsername()}]]</p>
                    <p>Дата сессии: [[${date.getDayOfMonth()}]] [[${month}]] [[${date.getYear()}]]</p>
                    <p>Общий результат: [[${#numbers.formatDecimal (finalScore, 1, 1)}]]%</p>
                </div>

                <p class="MODbutton" sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_SUPERADMIN')">
                    <a th:href="${#request.requestURI} + '?mod=' + ${mod == 'diagram' ? 'question_and_answer' : 'diagram'}"
                    style="text-decoration: none; color: yellow;">
                    [[${mod == 'diagram' ? 'Показать вопросы' : 'Вернуться к диаграмме'}]]</a>
                </p>
            </div>

            <!--  MOD -->
            <div th:if="${mod} == 'diagram'"
                 th:insert="~{presentation_of_session_results/presentation_of_session_results-diagram_mod :: diagram_mod}"></div>

            <!--  MOD -->
            <div th:if="${mod} == 'questionAndAnswer'" sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_SUPERADMIN')"
                 th:insert="~{presentation_of_session_results/presentation_of_session_results-question_and_answer_mod :: question_and_answer_mod}"></div>

        </div>

    </div>

</body>
</html>